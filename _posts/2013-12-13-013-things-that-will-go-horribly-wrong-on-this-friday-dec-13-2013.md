---
id: 47
title: 013 Things that Will go Horribly Wrong on This Friday, Dec 13, 2013
date: 2013-12-13T09:00:00+00:00
author: Lukas Eder
layout: post
guid: http://www.javaadvent.com/2013/12/013-things-that-will-go-horribly-wrong-on-this-friday-dec-13-2013/
permalink: /2013/12/013-things-that-will-go-horribly-wrong-on-this-friday-dec-13-2013.html
blogger_blog:
  - www.javaadvent.com
blogger_author:
  - Lukas Eder
blogger_permalink:
  - /2013/12/10-things-that-will-go-horribly-wrong.html
blogger_internal:
  - /feeds/2481158163384033132/posts/default/7554851589168953790
categories:
  - 2013
  - Expect the unexpected
  - Friday 13
  - java
  - "Murphy's Law"
  - Programming
  - Things that go wrong
  - whatever can go wrong will go wrong
---
I'm a defensive programmer. <a href="http://en.wikipedia.org/wiki/Murphy's_law">A wise man once taught me</a>:<br /><blockquote>Whatever can go wrong will go wrong</blockquote>Another wise man taught me to...<br /><blockquote>expect the unexpected</blockquote>Today, this will finally all make sense, as today, on this Friday the 13th, the following 10 programming-related things will go terribly wrong. In other words, your software is about to explode...<br /><br /><h3>1. ... because you have never really thought about names</h3><br />Today, you'll terribly regret never having thought about names, because <em>that user</em> will sign up to your application. <em>That user's</em> name is null. I mean, literally, <code>Null</code>. Like Jack Null, Heather Null, Null Smith. Whatever. <a href="http://stackoverflow.com/q/4456438/521799">You hadn't thought of the implications of such a user</a>, and now you'll have to fix it. And while you're at it, please consider all the other mistakes and misbeliefs that you might have been making over the past years. Like:<br /><ul><li>Thinking that people's names are case sensitive.</li><li>Thinking that people's names are case insensitive.</li><li>Thinking that people's names have any case at all.</li></ul>Read this scary article about <a href="http://www.kalzumeus.com/2010/06/17/falsehoods-programmers-believe-about-names/">Falsehoods Programmers Believe About Names</a>, to learn more about why your software will explode today because of people's names.<br /><br /><h3>2. ... because you get SQL wrong</h3><br />Yes. SQL. Some hate it, others love it. SQL has its own ways. But today, you'll regret never having thought about SQL <code>NULL</code>. Today you'll regret never having considered the difference between <code>UNION</code> and <code>UNION ALL</code>. Today, you'll run out of memory, because you have thought you could perform that <code>JOIN</code> in Java (or C#, PHP, you name it), rather than in SQL.<br /><br />Today, you'll commit any of these <a href="http://blog.jooq.org/2013/07/30/10-common-mistakes-java-developers-make-when-writing-sql/">10 Common Mistakes Java Developers Make When Writing SQL</a><br /><br /><h3>3. ... because you still get SQL NULL wrong</h3><br />As a matter of fact, you still didn't understand SQL <code>NULL</code>. You're not to blame, no one really understands SQL&nbsp;<span style="font-family: monospace;">NULL</span>. This must have been some elaborate Halloween joke by <a href="http://de.wikipedia.org/wiki/Edgar_F._Codd">E. F. Codd</a>, a sophisticated academic gag he lay upon us and upon the next 15 generations of programmers. But all that cynicism won't help you, because today, <code>NULL</code> is going to explode right in <i>your </i>application.<br /><br />If you don't believe it, learn about <a href="http://tech.pro/tutorial/1609/null-in-sql-explaining-its-behavior">NULL in SQL: Explaining its Behavior</a>. And then, go back and check your SQL while you still can!<br /><br /><h3>4. ... because your Java code is overdesigned. Or underdesigned</h3><br />It doesn't help that you now think you know SQL. Because 80% of your application (which will blow up today, on this Friday, Dec 13th) is written in Java. And if it isn't, then consider your Android phone, which is. And if that isn't, either, then chances are, that any other device of yours is running Java.<br /><br />And those who wrote that Java code, they didn't write object-oriented Java code, but Perl-esque or C-esque Java code leading to a horrible amount of spaghetti. And then, when your architect (or you?) attempted to clean up the spaghetti, they just went mad on all the design patterns that we have had in Java for the last 10 years. Now, no one can maintain this application, which leads to it blowing up right now.<br /><br />While this happens, consider reading <a href="http://zeroturnaround.com/rebellabs/watch-out-for-these-10-common-pitfalls-of-experienced-java-developers-architects/">Watch Out for These 10 Common Pitfalls of Experienced Java Developers &amp; Architects</a>. At least, you'll know whom to blame. You should blame the <a href="http://johannesbrodwall.com/2013/11/27/humble-architects/">humble architect</a>.<br /><br /><h3>5. ... because your fellow developers keep finding new excuses</h3><br />There's no way around that. You and your fellow developers didn't do your work. And you just keep finding new excuses for things you did (or didn't do). Like:<br /><ul><li>Oh, you said you DIDN'T want that to happen?</li><li>The project manager said no one would want that feature</li></ul>And that's just the beginning. Today, all those <a href="http://programmerexcuses.com/">Programming Excuses</a> will unravel and show you the true nature of your application, explaining why it is about to explode.<br /><br /><h3>6. ... because you really really get SQL wrong</h3><br />Really. It actually isn't because of those developers or because of Java. It's really SQL's fault that your application explodes today. Who can ever memorise those caveats anyway? Because your application suffers from SQL injection and syntax errors due to the lack of bind variable usage. Because you didn't use enough constraints. Because you thought that 50ms at development time was fast query execution. Yes, that "fast" query has now been running for 30 minutes in production and within a bit, it will make your application explode, because you haven't read:<br /><br /><a href="http://blog.jooq.org/2013/08/12/10-more-common-mistakes-java-developers-make-when-writing-sql/">10 More Common Mistakes Java Developers Make When Writing SQL</a><br /><br /><h3>7. ... because you got dates and times wrong</h3><br />Oh yes. That business-critical account statement. It goes from October 1 to October 31, 2010. Yes, and oh, your customer is using the CET / CEST time zone. Which means that chances are high that on this given end date, your customer's country was switching from <a href="http://en.wikipedia.org/wiki/Daylight_saving_time_in_the_United_States">daylight savings time</a> to winter time. As you're an U.S. based developer, you hadn't thought of that and did some date time arithmetic based on 24 hour dates, when in fact that particular day had 25 hours.<br /><br />And don't get me started on leap seconds. They jump right at you before you have updated your OS and/or JVM to get the latest in calendar technology. Too bad, you're writing high-frequency-trading software instead of some geology software, where you don't care about the odd leap second. Or leap year. Or leap millenium.<br /><br />Sigh. When will we introduce the <a href="http://www.aeonmagazine.com/world-views/what-if-clock-time-no-longer-tracked-the-sun/">metric system also for our calendars</a> and count in terms of Star Trek space time? But before that happens, let us learn about <a href="http://infiniteundo.com/post/25326999628/falsehoods-programmers-believe-about-time">Falsehoods Programmers Believe About Time</a>. And on a more serious note, <a href="http://unix4lyfe.org/time/?v=1">Some Notes About Time</a>. Clock's ticking!<br /><br /><h3>8. ... because you get XML namespaces wrong</h3><br />Now, this will go so terribly wrong, I don't even want to go into this topic. Just a hint. This <a href="http://www.w3.org/TR/2012/REC-xmlschema11-1-20120405/">easy-to-read document</a> will help you understand where you went wrong.<br /><br /><h3>9. ... because you'll get CSS wrong</h3><br />Finally, Microsoft has freed us from IE6 and previous horrible implementations of HTML, CSS et al. Unsupporting IE6 was a great step forward, helping us collectively forget what happened in the "dark ages of HTML" when we needed to double all HTML, CSS, JavaScript, to make things work on <em>both</em> Internet Explorer <em>and</em> all the other browser. Or did they?<br /><br />Wait, mobile browsers appeared, HTML5 wasn't standardised (or implemented?) quickly enough, Webkit set new defacto standards, aaagh. Like <a href="http://en.wikipedia.org/wiki/Lernaean_Hydra">the mythological Hydra</a>, the two-headed browser era has now transformed into an era where browsers have 360 heads. All different, utterly unmaintainable, according to Stefan Baumgartner whose <a href="https://speakerdeck.com/ddprrt/mobile-browser-games-topconf-tallin-html5-games-browsers">hilarious talk about Mobile Browsers at Topconf 2013</a> has at least kept me from losing faith in mankind. Because at least we haven't lost our humour.<br /><br />Yet, today is the day your application will explode, and it is most likely (or just as likely) because of a CSS bug. Don't believe it? <a href="http://www.kalzumeus.com/2009/10/23/the-ie-css-bug-which-cost-me-a-months-salary/">Read The IE CSS Bug That Cost Me a Month's Salary</a>. And then go learn from Nicole Sullivan who has taught us about the <a href="http://www.slideshare.net/stubbornella/5-mistakes-of-massive-css">5 Mistakes of Massive CSS</a>.<br /><br /><h3>10. ... because you get your encÕÐing wron错误的编码</h3><br />Sigh. So you're thinking that I am a Java and SQL person, and since you're using some fancy language like Ruby or Python, you're safe? Nope, you're not. Not this time. Even <em>your</em> application will explode today, on this Friday, 13th because you got your encoding wrong. No one ever gets this right. Ever. You think that UTF-8 will save you? Did you hear of UTF-16 and UTF-32? Things <em>can</em> and <em>will</em> go wrong with UTF-8. Specifically because your application exports to CSV, which is consumed by Excel, which expects data to be encoded in Cp1251. Or maybe even an encoding <em>without</em> the € (Euro) sign. Sigh.<br /><br />You know why we have <a href="http://en.wikipedia.org/wiki/ISO_8859-1">ISO / IEC 8859-1</a> <em>AND</em><a href="http://en.wikipedia.org/wiki/ISO/IEC_8859-15"> ISO / IEC 8859-15</a>? Obviously, today, your application will explode precisely because you've chosen the wrong one. Yet, I know the truth. Don't believe ISO / IEC's or Wikipedia's "official" story. As Thomas Müller (<a href="http://www.h2database.com/">the H2 developer</a>) once explained to me, it happened like this:<br /><blockquote>Once upon a time, an ISO engineer thought, we need a new encoding standard. So he went and created ISO 8859-1. Obviously, he didn't name it ISO 8859, because he knew he was getting it wrong and his smart alec co worker will fix it just to prove he got it wrong. So he added the "dash one". Then, a couple of years later, his co worker actually <em>did</em> show up and <em>did</em> complain that the euro sign was missing. And a couple of other very useful characters for 99% of us developers: ŠšŽžŒœŸ.<br /><br />So the first guy said, "Oh well, who cares. Let's leave things as they are". And the other guy said: "No I'll fix this". And the first guy said, "No, don't do it, it'll cause so much pain", and the other guy said: "No this is just wrong". Much like in <a href="http://xkcd.com/386/">"Someone is Wrong in the ISO"</a>. And after lots more of arguing, we now have even more permutations of encoding pairs to get wrong.</blockquote>The above is how most things happened in the past, by the way. Which is only cold comfort for <em>you</em> as you are about to notice that your application will explode, today. Since you're very unlikely to actually learn how this works correctly (most importantly not today, on this Friday, 13th), you might at least use this Python script to fix all wrong characters back from UTF-8 to ISO-8859-1 (or vice versa? Try both...). Read <a href="http://blog.luminoso.com/2012/08/20/fix-unicode-mistakes-with-python/">Fixing Common Unicode Mistakes with Python â€” After They've Been Made</a>. Another good read is <a href="http://htmlpurifier.org/docs/enduser-utf8.html">UTF-8: The Secret of Character Encoding</a>. And finally: Geek and Poke's point of view on the matter:<br /><br /><table align="center" cellpadding="0" cellspacing="0" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/-5jMorSk7Wqw/Upi6TvqP97I/AAAAAAAAAZg/Tpl6XiM4Q00/s1600/babel2.jpg" style="margin-left: auto; margin-right: auto;"><img border="0" height="266" src="http://2.bp.blogspot.com/-5jMorSk7Wqw/Upi6TvqP97I/AAAAAAAAAZg/Tpl6XiM4Q00/s320/babel2.jpg" width="320" /></a></td></tr><tr><td style="text-align: center;"><a href="http://geek-and-poke.com/geekandpoke/2013/8/29/when-it-all-began">When it all began by Geek and Poke</a>, Licensed <a href="http://creativecommons.org/licenses/by/3.0/deed.en_US">CC-BY 3.0</a></td></tr></tbody></table><br /><h3>11. (or 013) ... because you get radixes wrong</h3><br />If you're unfortunate enough to code in JavaScript (<a href="http://ctmmc.net/15">and that <em>is</em> unfortunate</a>, as we all know), you'll run the risk of forgetting that parsing an int automatically "detects" the implicit radix of your number string. So, today, you'll think that <code>013</code> has anything to do with the decimal 13, the hexadecimal 0x0D. You couldn't get this any more wrong.<br /><br />Because today is yet another day where you fell for JavaScript's accepting leading zeroes as octal numbers. <a href="http://stackoverflow.com/q/850341/521799">Read more about this behaviour here</a>.<br /><br />As you may have noticed, this list contains 013 things that will go wrong on this Dec 13. I.e. octal 13 on this decimal 13th day. Even this article got it wrong! It got it wrong twice, because the URL can no longer be changed from 10 things to 013 things. Today you won't only get radixes wrong, but you'll get lots of broken links or outdated websites, too!<br /><br /><h3>TL;DR Today, everything will go wrong</h3><br />Today is Friday the 13th. More specifically, 13.12.13 in my country's date notation. See #7 to learn about what will go wrong with dates and times today, when you try to parse that date in other countries than mine. I wouldn't be surprised if my clock showed 13.13.13 because of yet another piece of&nbsp;<a href="http://www.ctmmc.net/">Code That Made Me Cry</a>&nbsp;that went wrong today, and it would prove that today is a really bad day.<br /><br />And don't think about grabbing a coffee to cheer up after this article, because today, on this Friday the 13th, your coffee machine's clock isn't working because someone forgot a leap second. And even if it did work, there's only <em>DECAF</em> left. Time to call it a weekend! Have a nice one, and don't write any code, today!<br /><br /><em>Meta: this post is part of the <a href="http://javaadvent.com/">Java Advent Calendar</a> and is licensed under the <a href="https://creativecommons.org/licenses/by/3.0/">Creative Commons 3.0 Attribution</a> license. If you like it, please spread the word by sharing, tweeting, FB, G+ and so on!</em>